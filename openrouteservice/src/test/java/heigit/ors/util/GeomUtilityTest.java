package heigit.ors.util;

import com.graphhopper.util.PointList;
import com.graphhopper.util.shapes.BBox;
import org.junit.Assert;
import org.junit.BeforeClass;
import org.junit.Test;

public class GeomUtilityTest {
    private static double[][] points = {{49.41164812620688, 8.680136695805267, 113.0}, {49.411844262745475, 8.680018604100166, 114.0}, {49.41192528781128, 8.679975949525296, 114.5}, {49.41209739622691, 8.680691019014068, 115.0}, {49.41219071475098, 8.68107602777502, 114.72727272727273}, {49.412263916706976, 8.681382619173437, 114.46153846153847}, {49.41232612905635, 8.68171007219799, 114.06666666666666}, {49.41236133305046, 8.681886092168527, 113.875}, {49.412419820109456, 8.6823074225107, 113.42105263157895}, {49.41245297519385, 8.682576015947223, 113.1}, {49.41248650280728, 8.682962514824327, 112.45}, {49.412493022065455, 8.683038510748114, 112.05}, {49.41253698049196, 8.68357178606626, 111.42999999999999}, {49.41259584007999, 8.684261151051398, 111.45}, {49.412603290660755, 8.6843421761172, 111.55}, {49.41262433855141, 8.684589535398548, 111.65}, {49.412729764269216, 8.685829498302105, 114.0}, {49.412738332437094, 8.685937531723177, 114.3}, {49.41276813476014, 8.686310805819424, 114.55}, {49.41278191833456, 8.686444171215092, 114.5}, {49.41280557392848, 8.686677933186544, 114.49000000000001}, {49.412819171238375, 8.686756536813599, 114.47}, {49.41315761386955, 8.688166372958564, 114.0}, {49.41321423828336, 8.68853815693866, 113.825}, {49.41325912803246, 8.688865423698696, 113.625}, {49.4132868814458, 8.689421423288168, 113.875}, {49.41330886065905, 8.68986976198561, 114.025}, {49.41332376182058, 8.690202989210254, 113.975}, {49.41390807361695, 8.69015120767395, 114.725}, {49.41383766562874, 8.6906181728233, 115.55}, {49.41381494135741, 8.690941341763914, 116.0}, {49.41381307871222, 8.691267677201353, 116.325}, {49.413835989248064, 8.691503488082517, 116.45}, {49.41383468539643, 8.69208817240793, 116.975}, {49.41384809644181, 8.69219601956448, 117.175}, {49.41384865523536, 8.692217998777732, 117.425}, {49.4137680026986, 8.692221351539075, 117.625}, {49.41366052807109, 8.692197695945152, 117.775}, {49.41358658105701, 8.692187451396602, 117.875}, {49.413486929539296, 8.692187451396602, 117.925}, {49.4133356827498, 8.692214832280907, 117.925}, {49.41251276610448, 8.692434065619873, 116.425}, {49.41164998885207, 8.692664847359021, 113.3}, {49.41160658921912, 8.69267527817209, 112.9}, {49.41152649547591, 8.692673229262379, 112.5}, {49.41150283988199, 8.692666337475174, 112.13333333333333}, {49.41138437564785, 8.69256091175737, 111.8}, {49.41133836831164, 8.69249553291117, 111.3}, {49.411293478562534, 8.69236104992839, 110.83333333333333}, {49.411228285980854, 8.692198441003228, 110.4}, {49.41117389674128, 8.692094877930616, 110.0}, {49.41112490917276, 8.692046076626616, 109.63333333333333}, {49.41107554907521, 8.692031920523165, 109.3}, {49.41093734080204, 8.692044027716905, 109.0}, {49.41085817838143, 8.692088731201487, 108.71111111111111}, {49.41077212417361, 8.69214721826048, 108.98333333333332}, {49.41033272617309, 8.692400165477398, 110.5111111111111}, {49.410247789552386, 8.692450084368513, 110.85}, {49.40981006793253, 8.692705453024182, 113.05}, {49.40976089409949, 8.69272799103099, 113.75}, {49.409666457988315, 8.69276468514125, 114.45}, {49.40961039236807, 8.69277511595432, 115.15}, {49.409552836631676, 8.692775861012397, 115.85}, {49.40949025175326, 8.692761518644426, 116.55}, {49.40938892385488, 8.692717001424365, 117.25}, {49.409282008020924, 8.692621075197035, 117.95}, {49.40920545330358, 8.692554765028241, 118.65}, {49.40912349691518, 8.692483053188392, 118.95}, {49.409069666469165, 8.692453437129858, 119.25}, {49.4089880826098, 8.69242233095517, 119.55}, {49.40893443842831, 8.692412831464697, 119.85}, {49.40889737178901, 8.692408733645276, 120.15}, {49.4085362048865, 8.692432948032758, 121.26000000000002}, {49.40844214130436, 8.692444682697461, 121.47}, {49.40829946268274, 8.692461632768698, 121.4}, {49.40820837933291, 8.692468897084941, 121.3}, {49.40802509504613, 8.692479141633491, 121.1}, {49.40798784214231, 8.692484170775506, 121.0}, {49.40794053095446, 8.692490131240117, 120.9}, {49.40742439197207, 8.69258344976418, 120.25}, {49.40735454277742, 8.692607477887142, 120.0}, {49.40733274982868, 8.692617163642135, 119.75}, {49.40709433124425, 8.692712158546868, 119.25}, {49.40705018655323, 8.692725569592243, 119.0}, {49.40703938321112, 8.692818888116305, 118.75}, {49.40701162979778, 8.692982242099545, 118.5}, {49.40699784622337, 8.693067364984767, 118.25}, {49.40696431860993, 8.693255305884525, 118.0}, {49.406936378932066, 8.693457589152253, 117.95}, {49.40693023220294, 8.69352110535326, 117.9}, {49.40690992937036, 8.693814471970821, 117.8}, {49.4069054590219, 8.693876684320196, 117.75}, {49.40689540073787, 8.694050469116505, 117.7}, {49.40688683256999, 8.694301553688232, 117.65}, {49.40688664630547, 8.695308685942933, 117.9}, {49.40688664630547, 8.695330478891666, 118.0}, {49.40689111665393, 8.695414111660737, 118.1}, {49.406925389325444, 8.695768014247001, 118.3}, {49.4079448150384, 8.699405201511201, 121.98214285714286}, {49.40804446655611, 8.699705832445007, 122.18035714285716}, {49.40822365302348, 8.70023314729854, 122.5125}, {49.40831436384427, 8.700578854245965, 122.64642857142857}, {49.40844046492369, 8.70125275927602, 122.4375}, {49.408488521169616, 8.70159716237181, 122.19642857142858}, {49.408612387074804, 8.702468321527578, 122.05}, {49.40861983765557, 8.702521034386479, 122.1}, {49.40867292304351, 8.702907719528103, 122.2}, {49.40868931432119, 8.70302432111705, 122.25}, {49.408774064677374, 8.703629308275044, 122.22999999999999}, {49.40881578792965, 8.70398283833227, 122.28}, {49.40884316881395, 8.704289802259725, 122.525}, {49.408799024122935, 8.704689339653164, 122.825}, {49.40878673066467, 8.704854183752555, 122.94166666666668}, {49.40878244658073, 8.704910621901838, 123.025}, {49.408760653632, 8.705280729501263, 123.31666666666668}, {49.408635111346136, 8.706147790837612, 124.125}, {49.40860363264241, 8.706299596420667, 124.3}, {49.408520744931415, 8.706511751707906, 124.5}, {49.408378252574316, 8.706776806118565, 124.975}, {49.408278973585645, 8.70690476984318, 125.925}, {49.408263327366036, 8.706921347385377, 126.875}, {49.4080951305053, 8.707080417284677, 128.7}, {49.40762239115586, 8.707535088975767, 135.625}, {49.40728469358276, 8.70774649920493, 141.54166666666669}, {49.4072304906077, 8.707771272385969, 143.15}, {49.40713791714172, 8.707811319257573, 144.75}, {49.40694047675149, 8.70790333393, 147.95}, {49.4067385660128, 8.70805439445498, 151.15}, {49.4066117198753, 8.708210670386494, 153.45}, {49.406591789571756, 8.708275304174617, 155.75}, {49.406598681358965, 8.708340869285335, 157.85}, {49.40662159189481, 8.708388553002221, 159.95}, {49.40665213927594, 8.70840736571865, 161.96666666666667}, {49.40695407406138, 8.70834161434341, 166.51666666666668}, {49.40729102657641, 8.70830305758796, 168.4}, {49.40729922221525, 8.708306782878342, 168.6}, {49.40730760411861, 8.708311998284877, 168.7}, {49.4073251129834, 8.708333977498128, 169.4}, {49.407326044306, 8.708338820375625, 170.1}, {49.40732697562859, 8.708350368775807, 170.8}, {49.40729903595073, 8.708430835048054, 171.5}, {49.4065834076684, 8.709014029257313, 172.86666666666667}, {49.406427876794965, 8.709188931640735, 174.15}, {49.40639956458806, 8.709229537305896, 175.18333333333334}, {49.40636864467789, 8.709278897403454, 176.45}, {49.40613711788067, 8.709698923893994, 180.95}, {49.40607732697004, 8.709809006224773, 181.75}, {49.40603839768555, 8.709877737832317, 182.55}, {49.406015114620665, 8.709920764936227, 183.35}, {49.40595755888427, 8.710025259331433, 185.25}, {49.40586871070867, 8.710166447836901, 187.09444444444443}, {49.40583648694686, 8.710188985843711, 188.88333333333333}, {49.40580538077217, 8.71018097646939, 190.66666666666666}, {49.40578098012018, 8.710087471680808, 192.39444444444445}, {49.40577408833297, 8.709856131148102, 194.01666666666665}, {49.40577371580393, 8.709759459862697, 195.58333333333331}, {49.40576905919095, 8.709546559517381, 197.09444444444443}, {49.40574484480347, 8.70925729071924, 199.95}, {49.40565990818277, 8.708862968732333, 204.1}, {49.405668290086126, 8.70862957928992, 205.55}, {49.40567331922814, 8.70860704128311, 207.0}, {49.40568375004121, 8.708570905966406, 208.45}, {49.405863867831165, 8.708144546482218, 209.7}, {49.40586703432799, 8.708130762907805, 209.6}, {49.40586889697318, 8.708119214507622, 208.4}, {49.405846545230894, 8.708021053106064, 207.2}, {49.40579644007526, 8.707998887628293, 208.2}, {49.40576384378442, 8.708026641041636, 209.15}, {49.40568300498313, 8.708169319663256, 210.1}, {49.40563699764692, 8.708263569509914, 211.1}, {49.40559508813013, 8.708352417685518, 211.45}, {49.40549618167049, 8.708550230604788, 211.8}, {49.405397647739896, 8.708830744970532, 212.5}, {49.40534158211965, 8.70903079306403, 212.7333333333333}, {49.40526204717, 8.70932024812669, 212.325}, {49.40523112725983, 8.709424742521898, 211.975}, {49.4052044914336, 8.709511914316831, 211.625}, {49.405143582935864, 8.709698365100436, 211.275}, {49.405057528728044, 8.7100200439249, 212.2}, {49.40502921652114, 8.710246727844627, 213.45}, {49.40501357030154, 8.710789688917764, 217.2}, {49.40504784297305, 8.711454466986384, 214.275}, {49.40503778468902, 8.711711884551761, 214.875}, {49.405006305985296, 8.711982340633474, 215.475}, {49.40478204350431, 8.712965631029732, 225.5}, {49.40463824729558, 8.713489034328365, 234.025}, {49.404545115036036, 8.713810899417346, 238.325}, {49.40449612746752, 8.713994556233166, 240.475}, {49.404452169041015, 8.714186594952343, 242.8875}, {49.40441193590489, 8.714373232000469, 245.2125}, {49.40431042174199, 8.714801640394366, 251.2}, {49.40419884929506, 8.715134308825455, 255.58571428571426}, {49.404194565211114, 8.715233587814128, 257.75714285714287}, {49.40421635815985, 8.715346836641732, 259.7642857142857}, {49.40423181811493, 8.715385579661703, 261.60714285714283}, {49.40428285459316, 8.715468094843658, 263.2857142857143}, {49.404369467594535, 8.715572589238866, 264.8}, {49.4045067445451, 8.715663858853217, 266.15}, {49.40477496545259, 8.7157856758487, 270.05}, {49.405007796101444, 8.715807282532914, 273.6}, {49.40531978917092, 8.715710052453952, 279.1}, {49.405617998665974, 8.715536267657644, 283.9}, {49.40584505511474, 8.71529244740216, 289.05}, {49.40597376389743, 8.715071723947043, 292.15}, {49.406120726602985, 8.71467051017293, 296.3}, {49.40615630312613, 8.714649089753236, 297.6}, {49.406192997236396, 8.714649462282273, 298.9}, {49.40624515130174, 8.714687273979647, 300.2}, {49.40625669970192, 8.714716517509144, 301.5}, {49.40626321896009, 8.71475209403229, 302.45}, {49.406259866198745, 8.714806297007344, 303.05}, {49.406139725583934, 8.7153045545959, 305.35}, {49.40597339136839, 8.715820879842807, 308.46666666666664}, {49.40581115497227, 8.71621184906837, 308.45}, {49.405572363858795, 8.716643796488132, 308.35}, {49.40550325972222, 8.716749594734972, 309.35}, {49.405435645701786, 8.71685204022047, 310.35}, {49.405222186562916, 8.717134976024962, 313.35}, {49.40486046086685, 8.717445478978279, 315.225}, {49.40466264794758, 8.717672907956084, 316.625}, {49.404634522005196, 8.717709415801824, 317.525}, {49.40458646575927, 8.717776471028696, 318.425}, {49.4044305623568, 8.717997753277372, 320.375}, {49.40417351732046, 8.718410887980705, 325.575}, {49.404116147848576, 8.718504579033805, 326.975}, {49.404045181066806, 8.718620435564677, 327.475}, {49.403888718870775, 8.718824954006633, 328.475}, {49.40355344273642, 8.719153152089264, 330.9625}, {49.40335115946869, 8.719401628957725, 334.375}, {49.40326398767376, 8.719534063030796, 335.975}, {49.40322226442149, 8.719591618767193, 337.175}, {49.40317215926585, 8.719640792600233, 338.375}, {49.403117583761755, 8.71966165422637, 339.575}, {49.40306244946411, 8.71965941905214, 340.775}, {49.40296447432707, 8.719590687444597, 341.975}, {49.40292126095864, 8.719513015140139, 343.075}, {49.40278845435653, 8.71912539867592, 344.675}, {49.402566985843336, 8.718218849261527, 344.575}, {49.40234663491726, 8.717158259089848, 345.6}, {49.40225145374801, 8.716538557034848, 349.1}, {49.402174526501625, 8.715756618583724, 355.8357142857143}, {49.40213317577839, 8.715513543386315, 357.37857142857143}, {49.40167589638403, 8.713564285194076, 363.7}, {49.40160809609908, 8.713364050836057, 364.66999999999996}, {49.40150453302647, 8.713229381588759, 365.31}, {49.40140413645068, 8.71319641276888, 365.96999999999997}, {49.40132273885584, 8.71322696015001, 366.65}, {49.401295357971534, 8.7132493118923, 367.35}, {49.40125624242253, 8.713291035144575, 368.05}, {49.40123240056408, 8.713314504473981, 368.76428571428573}, {49.40119831415709, 8.713352874964912, 369.84285714285716}, {49.40114914032405, 8.713407264204486, 370.9357142857143}, {49.40083062799641, 8.713734158435482, 375.45}, {49.40068087132307, 8.713858769398751, 376.61428571428576}, {49.40053204597232, 8.713929363651484, 377.79285714285714}, {49.40027295202627, 8.714012996420555, 380.1928571428572}, {49.399792389567025, 8.714113392996342, 383.5}, {49.39957967548623, 8.71412605898364, 383.7}, {49.39921850858372, 8.714106873738174, 383.75}, {49.39881152060952, 8.71401411400767, 382.875}, {49.39789956952407, 8.713735462287117, 382.45}, {49.397494630459576, 8.713710316577039, 384.0}, {49.39728377902397, 8.713725031474047, 385.0}, {49.39714463942821, 8.713738069990383, 385.4875}, {49.395578899880775, 8.713898630005836, 392.34999999999997}, {49.39453339713514, 8.714142822790357, 392.4823529411765}, {49.39352067694487, 8.714339890651551, 394.55454545454546}, {49.39325796542745, 8.71435470114842, 395.54431818181814}, {49.39325796542745, 8.71435470114842, 402.5}, {49.39352067694487, 8.714339890651551, 402.75}, {49.39453339713514, 8.714142822790357, 397.375}, {49.395578899880775, 8.713898630005836, 393.3272727272727}, {49.39714463942821, 8.713738069990383, 392.5954545454546}, {49.39728377902397, 8.713725031474047, 392.4818181818182}, {49.397494630459576, 8.713710316577039, 392.2}, {49.39789956952407, 8.713735462287117, 390.9382352941176}, {49.39881152060952, 8.71401411400767, 386.4514705882352}, {49.39921850858372, 8.714106873738174, 384.49999999999994}, {49.39957967548623, 8.71412605898364, 382.72499999999997}, {49.399792389567025, 8.714113392996342, 382.24999999999994}, {49.40027295202627, 8.714012996420555, 382.22499999999997}, {49.40053204597232, 8.713929363651484, 382.52}, {49.40068087132307, 8.713858769398751, 382.68999999999994}, {49.40083062799641, 8.713734158435482, 382.87499999999994}, {49.40114914032405, 8.713407264204486, 383.74999999999994}, {49.40119831415709, 8.713352874964912, 383.99999999999994}, {49.40123240056408, 8.713314504473981, 383.9}, {49.40125624242253, 8.713291035144575, 383.79999999999995}, {49.401295357971534, 8.7132493118923, 383.69999999999993}, {49.40132273885584, 8.71322696015001, 383.59999999999997}, {49.40140413645068, 8.71319641276888, 383.49999999999994}, {49.40150453302647, 8.713229381588759, 383.4}, {49.40160809609908, 8.713364050836057, 383.59999999999997}, {49.40167589638403, 8.713564285194076, 382.49999999999994}, {49.40213317577839, 8.715513543386315, 367.34999999999997}, {49.402174526501625, 8.715756618583724, 366.65}, {49.40225145374801, 8.716538557034848, 363.99999999999994}, {49.40234663491726, 8.717158259089848, 365.3071428571428}, {49.402566985843336, 8.718218849261527, 358.9857142857142}, {49.40278845435653, 8.71912539867592, 349.09999999999997}, {49.40292126095864, 8.719513015140139, 346.37499999999994}, {49.40296447432707, 8.719590687444597, 345.59999999999997}, {49.40306244946411, 8.71965941905214, 344.79999999999995}, {49.403117583761755, 8.71966165422637, 344.23749999999995}, {49.40317215926585, 8.719640792600233, 343.91249999999997}, {49.40322226442149, 8.719591618767193, 343.82499999999993}, {49.40326398767376, 8.719534063030796, 343.97499999999997}, {49.40335115946869, 8.719401628957725, 344.36249999999995}, {49.40355344273642, 8.719153152089264, 344.57499999999993}, {49.403888718870775, 8.718824954006633, 345.1035714285714}, {49.404045181066806, 8.718620435564677, 344.89642857142854}, {49.404116147848576, 8.718504579033805, 344.67499999999995}, {49.40417351732046, 8.718410887980705, 344.42499999999995}, {49.4044305623568, 8.717997753277372, 340.775}, {49.40458646575927, 8.717776471028696, 338.37499999999994}, {49.404634522005196, 8.717709415801824, 337.17499999999995}, {49.40466264794758, 8.717672907956084, 335.97499999999997}, {49.40486046086685, 8.717445478978279, 332.37499999999994}, {49.405222186562916, 8.717134976024962, 328.97499999999997}, {49.405435645701786, 8.71685204022047, 327.47499999999997}, {49.40550325972222, 8.716749594734972, 326.97499999999997}, {49.405572363858795, 8.716643796488132, 325.57499999999993}, {49.40581115497227, 8.71621184906837, 320.37499999999994}, {49.40597339136839, 8.715820879842807, 317.525}, {49.406139725583934, 8.7153045545959, 315.12499999999994}, {49.406259866198745, 8.714806297007344, 313.34999999999997}, {49.40626321896009, 8.71475209403229, 312.34999999999997}, {49.40625669970192, 8.714716517509144, 311.34999999999997}, {49.40624515130174, 8.714687273979647, 310.34999999999997}, {49.406192997236396, 8.714649462282273, 309.34999999999997}, {49.40615630312613, 8.714649089753236, 308.34999999999997}, {49.406120726602985, 8.71467051017293, 308.24999999999994}, {49.40597376389743, 8.715071723947043, 308.44999999999993}, {49.40584505511474, 8.71529244740216, 308.69999999999993}, {49.405617998665974, 8.715536267657644, 307.04999999999995}, {49.40531978917092, 8.715710052453952, 304.49999999999994}, {49.405007796101444, 8.715807282532914, 302.44999999999993}, {49.40477496545259, 8.7157856758487, 300.19999999999993}, {49.4045067445451, 8.715663858853217, 296.29999999999995}, {49.404369467594535, 8.715572589238866, 294.99999999999994}, {49.40428285459316, 8.715468094843658, 293.6166666666666}, {49.40423181811493, 8.715385579661703, 292.15}, {49.40421635815985, 8.715346836641732, 290.59999999999997}, {49.404194565211114, 8.715233587814128, 289.04999999999995}, {49.40419884929506, 8.715134308825455, 287.49999999999994}, {49.40431042174199, 8.714801640394366, 283.9}, {49.40441193590489, 8.714373232000469, 279.09999999999997}, {49.404452169041015, 8.714186594952343, 277.49999999999994}, {49.40449612746752, 8.713994556233166, 275.54999999999995}, {49.404545115036036, 8.713810899417346, 273.59999999999997}, {49.40463824729558, 8.713489034328365, 270.04999999999995}, {49.40478204350431, 8.712965631029732, 264.79999999999995}, {49.405006305985296, 8.711982340633474, 251.19999999999996}, {49.40503778468902, 8.711711884551761, 249.59999999999997}, {49.40504784297305, 8.711454466986384, 247.44999999999996}, {49.40501357030154, 8.710789688917764, 238.32499999999996}, {49.40502921652114, 8.710246727844627, 231.87499999999994}, {49.405057528728044, 8.7100200439249, 229.74999999999994}, {49.405143582935864, 8.709698365100436, 225.49999999999994}, {49.4052044914336, 8.709511914316831, 223.39999999999995}, {49.40523112725983, 8.709424742521898, 221.4642857142857}, {49.40526204717, 8.70932024812669, 219.69285714285712}, {49.40534158211965, 8.70903079306403, 217.16785714285712}, {49.405397647739896, 8.708830744970532, 216.2392857142857}, {49.40549618167049, 8.708550230604788, 214.875}, {49.40559508813013, 8.708352417685518, 214.275}, {49.40563699764692, 8.708263569509914, 214.875}, {49.40568300498313, 8.708169319663256, 215.5625}, {49.40576384378442, 8.708026641041636, 216.3375}, {49.40579644007526, 8.707998887628293, 217.2}, {49.405846545230894, 8.708021053106064, 215.95}, {49.40586889697318, 8.708119214507622, 214.7}, {49.40586703432799, 8.708130762907805, 213.45}, {49.405863867831165, 8.708144546482218, 212.2}, {49.40568375004121, 8.708570905966406, 211.625}, {49.40567331922814, 8.70860704128311, 211.975}, {49.405668290086126, 8.70862957928992, 212.325}, {49.40565990818277, 8.708862968732333, 212.675}, {49.40574484480347, 8.70925729071924, 212.15}, {49.40576905919095, 8.709546559517381, 211.45}, {49.40577371580393, 8.709759459862697, 211.1}, {49.40577408833297, 8.709856131148102, 210.1}, {49.40578098012018, 8.710087471680808, 209.15}, {49.40580538077217, 8.71018097646939, 208.2}, {49.40583648694686, 8.710188985843711, 207.2}, {49.40586871070867, 8.710166447836901, 208.4}, {49.40595755888427, 8.710025259331433, 209.6}, {49.406015114620665, 8.709920764936227, 209.7}, {49.40603839768555, 8.709877737832317, 209.8}, {49.40607732697004, 8.709809006224773, 209.3833333333333}, {49.40613711788067, 8.709698923893994, 208.45}, {49.40636864467789, 8.709278897403454, 204.1}, {49.40639956458806, 8.709229537305896, 202.65}, {49.406427876794965, 8.709188931640735, 201.31666666666666}, {49.4065834076684, 8.709014029257313, 198.55}, {49.40729903595073, 8.708430835048054, 183.35}, {49.40732697562859, 8.708350368775807, 182.55}, {49.407326044306, 8.708338820375625, 181.75}, {49.4073251129834, 8.708333977498128, 180.95}, {49.40730760411861, 8.708311998284877, 179.45}, {49.40729922221525, 8.708306782878342, 177.95}, {49.40729102657641, 8.70830305758796, 176.45}, {49.40695407406138, 8.70834161434341, 173.35}, {49.40665213927594, 8.70840736571865, 172.75555555555556}, {49.40662159189481, 8.708388553002221, 172.86666666666667}, {49.406598681358965, 8.708340869285335, 173.03333333333336}, {49.406591789571756, 8.708275304174617, 173.45555555555558}, {49.4066117198753, 8.708210670386494, 173.93333333333334}, {49.4067385660128, 8.70805439445498, 173.06666666666666}, {49.40694047675149, 8.70790333393, 171.5}, {49.40713791714172, 8.707811319257573, 170.1}, {49.4072304906077, 8.707771272385969, 169.4}, {49.40728469358276, 8.70774649920493, 168.7}, {49.40762239115586, 8.707535088975767, 167.46666666666667}, {49.4080951305053, 8.707080417284677, 157.85}, {49.408263327366036, 8.706921347385377, 153.45}, {49.408278973585645, 8.70690476984318, 151.15}, {49.408378252574316, 8.706776806118565, 149.55}, {49.408520744931415, 8.706511751707906, 146.35}, {49.40860363264241, 8.706299596420667, 144.75}, {49.408635111346136, 8.706147790837612, 143.15}, {49.408760653632, 8.705280729501263, 134.375}, {49.408818581897435, 8.705021635555214, 133.20833333333331}, {49.40882975776858, 8.704960913321992, 131.975}, {49.408879117866135, 8.70474913056379, 130.825}, {49.40893089940244, 8.704657302155882, 129.75833333333333}, {49.40896386822232, 8.704649479046079, 128.775}, {49.408901097079394, 8.703598760893913, 124.375}, {49.408896626730936, 8.70340988867156, 124.125}, {49.40889793058257, 8.702981294013142, 123.6}, {49.408902214666504, 8.702564061490389, 123.25}, {49.408904636105255, 8.702283919653683, 123.05}, {49.408902214666504, 8.702036746636855, 123.1}, {49.408892528911515, 8.701871157479387, 123.15}, {49.40888694097594, 8.701818630885004, 123.2}, {49.40883813967194, 8.701463051918068, 123.00714285714287}, {49.408775741058044, 8.701099463576812, 122.74285714285716}, {49.40868484397273, 8.70055929647146, 122.05}, {49.408666776314384, 8.700452008108467, 121.85}, {49.4085781144033, 8.699943878500399, 121.25}, {49.408516088318436, 8.699587181946349, 120.85}, {49.40840749610381, 8.698963195807409, 119.8}, {49.408390359768056, 8.698866151992965, 119.5}, {49.40835534203847, 8.698662937402641, 119.2}, {49.408341185935015, 8.698579677162611, 119.0}, {49.40831492263783, 8.698437371070028, 118.95}, {49.40827115047584, 8.698182561207918, 118.95}, {49.408241348152785, 8.698008962676129, 118.95}, {49.40806104409831, 8.696958430788483, 119.4}, {49.40804018247217, 8.696836241263961, 119.4}, {49.40795245188368, 8.696362943120963, 119.425}, {49.407847771223956, 8.695798747892649, 119.625}, {49.407834546443105, 8.695728339904434, 119.675}, {49.40769224035052, 8.694960930085799, 120.175}, {49.4076637418791, 8.694806330534957, 120.325}, {49.407603019645876, 8.694437340522647, 120.625}, {49.40758588331012, 8.694326885662829, 120.775}, {49.40773433613183, 8.694280505797577, 120.925}, {49.40789321976661, 8.694227047880599, 121.075}, {49.40797908770991, 8.69419203015101, 121.225}, {49.408263886159595, 8.694069468097451, 121.475}, {49.40876810421276, 8.693860665571556, 122.5}, {49.40900484641652, 8.693776846537967, 122.97999999999999}, {49.40936154297057, 8.693650559194026, 122.625}, {49.40960405937442, 8.693558544521597, 122.125}, {49.410023713335924, 8.693390161396342, 121.25}, {49.41010827742759, 8.693358496428099, 121.08333333333333}, {49.410213144351836, 8.69331938087909, 120.85}, {49.41070972555972, 8.693120636637225, 119.45}, {49.411013150461315, 8.692988388828674, 117.55}, {49.41117073024446, 8.692920402279206, 116.8875}, {49.41122754092278, 8.692903265943452, 116.3125}, {49.41131285007252, 8.692889668633558, 115.825}, {49.411381954209105, 8.692883335639909, 115.425}, {49.41150749649497, 8.692869924594534, 115.025}, {49.411525564153315, 8.692869552065497, 114.625}, {49.411666938923304, 8.692845896471573, 114.1625}, {49.41349531144266, 8.692359559812237, 113.725}, {49.41368735016184, 8.692257486855778, 114.5575}, {49.4137680026986, 8.692221351539075, 114.94000000000001}, {49.41384865523536, 8.692217998777732, 115.3}, {49.4142617899387, 8.692188755248235, 116.76500000000001}, {49.414670081764534, 8.69215112981538, 118.02000000000001}, {49.414727264971894, 8.69214703199596, 118.2775}, {49.41477774265657, 8.692144796821731, 118.5125}, {49.41514226232042, 8.692138277563563, 119.3525}, {49.41543954049288, 8.692123562666556, 119.825}, {49.41566138153512, 8.692106985124356, 120.125}, {49.41590110397118, 8.692087799878891, 120.325}, {49.41658860631112, 8.692038439781333, 120.4}, {49.416674101725384, 8.692032479316723, 120.35}, {49.416686395183646, 8.69202875402634, 120.3}, {49.4169123340453, 8.692016088039043, 120.1625}, {49.41713901796503, 8.691974923580325, 119.975}, {49.41722004303083, 8.69194102343785, 119.875}, {49.41736886838158, 8.691816971268139, 119.775}, {49.41772575120015, 8.691427492158729, 118.9}, {49.41805115531499, 8.69107247198535, 117.9}, {49.41815807114895, 8.690967977590143, 117.65}, {49.418187687207485, 8.690935753828342, 117.4}, {49.41820799004007, 8.690938920325166, 117.15}, {49.41829572062856, 8.690938547796128, 116.9}, {49.41837823581051, 8.690920293873257, 116.8}, {49.41841083210135, 8.69091153944086, 116.7}, {49.41898117405879, 8.690669768095086, 115.925}, {49.4189919774009, 8.690663993894994, 115.825}, {49.41909311903476, 8.690614075003879, 115.775}, {49.419173957836044, 8.690546833512489, 115.925}, {49.4192037601591, 8.69047921949206, 116.125}, {49.419218475056105, 8.690446250672181, 116.325}, {49.41957703425535, 8.690274514785584, 117.125}, {49.41983296170457, 8.69012252293801, 117.725}, {49.420216480349374, 8.689854115766007, 118.025}, {49.420513758521835, 8.689652391291835, 118.275}, {49.420795390474694, 8.689516231928383, 118.575}, {49.42131301957323, 8.689251550046762, 118.45}, {49.421438934388135, 8.689193249252288, 118.45}, {49.422016726926344, 8.688938625654696, 118.175}, {49.4222007562712, 8.688856110472742, 118.075}, {49.4229834397804, 8.688528843712707, 117.79166666666667}, {49.42378027939305, 8.688174941126443, 117.95}, {49.424211854283776, 8.68797135400708, 118.56666666666665}, {49.424283938652664, 8.687916964767508, 118.69444444444443}, {49.4243409355955, 8.687862575527934, 118.81666666666665}, {49.42443425411957, 8.687742062384086, 118.93333333333332}, {49.424456605861856, 8.687772237236178, 119.04444444444444}, {49.424473928462135, 8.68779384392039, 119.15}, {49.42449423129471, 8.68782681274027, 119.25}, {49.42454154248256, 8.687827744062865, 119.34444444444443}, {49.424600607420224, 8.687809289124878, 119.43333333333332}};
    private static PointList pointList3D = new PointList(14, true);
    private static PointList pointList2D = new PointList(14, false);
    private static PointList emptyPointList = new PointList(14, false);

    @BeforeClass
    public static void setUp() {
        for (int i = 0; i < points.length; ++i) {
            double[] point = points[i];
            double double_lat = point[0];
            double double_lon = point[1];
            double double_ele = point[2];
            pointList3D.add(double_lat, double_lon, double_ele);
            pointList2D.add(double_lat, double_lon);
        }
    }

    @Test
    public void calculateBoundingBox() {
        BBox _fallback = new BBox(0, 0, 0, 0);
        BBox bbox3D = GeomUtility.CalculateBoundingBox(pointList3D, _fallback);
        BBox bbox2D = GeomUtility.CalculateBoundingBox(pointList2D, _fallback);
        BBox bbox_fallback = GeomUtility.CalculateBoundingBox(emptyPointList,_fallback);

        Assert.assertEquals(8.679975949525296,bbox3D.minLon, 0.0000009);
        Assert.assertEquals(8.71966165422637,bbox3D.maxLon, 0.0000009);
        Assert.assertEquals(49.39325796542745,bbox3D.minLat, 0.0000009);
        Assert.assertEquals(49.424600607420224,bbox3D.maxLat, 0.0000009);
        Assert.assertEquals(108.71111111111111,bbox3D.minEle, 0.0000009);
        Assert.assertEquals(402.75,bbox3D.maxEle, 0.0000009);

        Assert.assertEquals(8.679975949525296,bbox2D.minLon, 0.0000009);
        Assert.assertEquals(8.71966165422637,bbox2D.maxLon, 0.0000009);
        Assert.assertEquals(49.39325796542745,bbox2D.minLat, 0.0000009);
        Assert.assertEquals(49.424600607420224,bbox2D.maxLat, 0.0000009);

        Assert.assertEquals(0f,bbox_fallback.minLon, 0.0000009);
        Assert.assertEquals(0f,bbox_fallback.maxLon, 0.0000009);
        Assert.assertEquals(0f,bbox_fallback.minLat, 0.0000009);
        Assert.assertEquals(0f,bbox_fallback.maxLat, 0.0000009);
    }
}
